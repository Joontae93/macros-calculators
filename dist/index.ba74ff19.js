class t{#t=".totals__";constructor(t){this.form=document.getElementById(t),this.output=document.querySelector(this.#t.concat(t)),this.macros=document.querySelector(".percents")}renderOutput(t){this.output.insertAdjacentHTML("beforeend",`<span>${t} calories</span>`)}}const e=new t("bmr-calculator"),r=new t("modifiers"),o=new t("calorie-goal");const s=new class extends t{#e="";label=this.form.querySelector("#protein--gender");constructor(t){super(t)}updateOptions(t){"Female"===t&&(this.#e=`\n\t\t\t<label for="protein">\n\t\t\t\t<strong>${t}</strong> Protein Modifier (grams per lb.)</label>\n\t\t\t\t\t<select name="protein" id="protein-modifier">\n\t\t\t\t\t\t<option value="0.6">0.6</option>\n\t\t\t\t\t\t<option value="0.7">.07</option>\n\t\t\t\t\t\t<option value="0.8" selected>0.8</option>\n\t\t\t\t\t\t<option value="0.9">0.9</option>\n\t\t\t\t\t\t<option value="1.0">1.0</option>\n\t\t\t\t\t</select>`),"Male"===t&&(this.#e=`\n\t\t\t<label for="protein">\n\t\t\t\t<strong>${t}</strong> Protein Modifier (grams per lb.)</label>\n\t\t\t\t\t<select name="protein" id="protein-modifier">\n\t\t\t\t\t\t<option value="0.8">0.8</option>\n\t\t\t\t\t\t<option value="0.9">0.9</option>\n\t\t\t\t\t\t<option value="1.0" selected>1.0</option>\n\t\t\t\t\t\t<option value="1.1">1.1</option>\n\t\t\t\t\t\t<option value="1.2">1.2</option>\n\t\t\t\t\t</select>`),this.form.querySelector(".form__content").innerHTML=this.#e}renderMacros(t){this.macros.innerHTML=`\n\t\t<div class="percent__proteins">\n\t\t\t<h2>Protein:</h2>\n\t\t\t<span>${t.proteins.percentage}% | ${t.proteins.grams}g</span>\n\t\t</div>\n\t\t<div class="percent__fats">\n\t\t\t<h2>Fats:</h2>\n\t\t\t<span>${t.fats.percentage}% | ${t.fats.grams}g</span>\n\t\t</div>\n\t\t<div class="percent__carbs">\n\t\t\t<h2>Carbs:</h2>\n\t\t\t<span>${t.carbs.percentage}% | ${t.carbs.grams}g</span>\n\t\t</div>`}}("protein-calculator");var a=new class{state={person:{gender:"",weight:0,heightFt:0,heightIn:0,age:0},bmr:0,calorieGoal:0,modifiers:{activity:0,deficit:0,protein:0},tdee:0,macros:{fats:{percentage:30,grams:0,calories:0},proteins:{percentage:30,grams:0,calories:0},carbs:{percentage:30,grams:0,calories:0}}};calculate(t,e){switch(e){case"bmr-calculator":this.#r(t);break;case"modifiers":try{this.#o(t)}catch(t){console.error(t)}break;case"protein-calculator":try{this.#s(t)}catch(t){console.error(t)}}}#a(t,e){return 12*Number(t.value)+Number(e.value)}#n(t){return+t.options[t.selectedIndex].value}#r(t){const e=t.querySelector("#weight"),r=t.querySelector("#height--ft"),o=t.querySelector("#height--in"),s=t.querySelector("#age"),a=t.querySelectorAll('input[type="radio"]'),n=this.#a(r,o);this.state.person={weight:Number(e.value),age:Number(s.value),heightFt:Number(r.value),heightIn:Number(o.value)},a.forEach(((t,e)=>{t.checked&&(this.state.person.gender=a[e].value)}));const{person:{weight:i,age:c,gender:l}}=this.state;let h=0;h="Female"===l?655+4.35*i+4.7*n-4.7*c:66+6.23*i+12.7*n-6.8*c,this.state.bmr=Math.round(h)}#o(t){const e=t.querySelector("#tdee"),r=t.querySelector("#deficit"),{bmr:o}=this.state;let{calorieGoal:s,tdee:a,modifiers:{activity:n,deficit:i}}=this.state;if(0===o)throw"Calculate BMR First!!";n=this.#n(e),i=this.#n(r),a=Math.round(o*n),i<1&&(s=Math.round(a-a*i)),1===i&&(s=a),i>1&&(s=Math.round(a*i)),this.state.modifiers={activity:n,deficit:i},this.state.tdee=a,this.state.calorieGoal=s}#s(t){if(0===this.state.tdee)throw"Do the rest of the form first!";const e=t.querySelector("#protein-modifier");let{macros:r,modifiers:o}=this.state;const{calorieGoal:s}=this.state;o.protein=this.#n(e),this.#i(r.proteins,o.protein),this.#c(r.fats),this.#l(r,s)}#i(t,e){let{grams:r,calories:o,percentage:s}=t;r=Math.round(this.state.person.weight*e),o=Math.round(4*r),s=Math.round(o/this.state.calorieGoal*100),this.state.macros.proteins={grams:r,calories:o,percentage:s}}#c(t){let{grams:e,calories:r,percentage:o}=t;o=30,r=Math.round(o/100*this.state.calorieGoal),e=Math.round(r/9),this.state.macros.fats={grams:e,calories:r,percentage:o}}#l(t,e){let{carbs:{grams:r,percentage:o,calories:s},fats:{calories:a},proteins:{calories:n}}=t;s=Math.round(e-a-n),r=Math.round(s/4),o=Math.round(s/e*100),this.state.macros.carbs={calories:s,grams:r,percentage:o}}};var n=new class{forms=document.querySelectorAll("form");reset=document.getElementById("reset");main=document.querySelector("main");coords=this.main.getBoundingClientRect();mods=r;calorieGoal=o;bmr=e;proteins=s;submissionMessage="<span>Thanks! On to the next step.</span>";finalMessage="<span>All done! Check the breakdown</span>";constructor(){!function(t,e,r){const o=document.getElementById("copyright"),s=(new Date).getFullYear(),a=`<a href="https://${r}?utm_source=${t.replace(/ /g,"")}&utm_medium=website_footer&utm_campaign=copyright" target ="_blank">${e}</a>`;o.innerHTML=`<p>&copy; ${s} ${t} All Rights Reserved.<br/>Site built by ${a}</p>`}("KJ Roelke","kjroelke.online"),this.forms.forEach(((t,e)=>{if(0!==e)for(e=0;e<t.length;e++)t[e].setAttribute("disabled","")})),this.renderConfirmation(),this.reset.addEventListener("click",this.resetForm.bind(this))}addHandlerRender(t){this.forms.forEach((e=>{e.addEventListener("submit",t)}))}renderConfirmation(){this.forms.forEach(((t,e)=>{t.addEventListener("submit",(t=>{const r=t.target,o=r.dataset.step;r.querySelector(".form__submission").insertAdjacentHTML("beforeend",2!=e?this.submissionMessage:this.finalMessage),3!=o&&(this.#h([r,this.forms[o]]),this.#d(this.forms[o]))}))}))}resetForm(){window.scrollTo(0,this.coords.y),location.reload()}#h(t){t.forEach((t=>t.classList.toggle("inactive")))}#d(t){for(let e=0;e<t.length;e++)t[e].disabled=!1}handleOutput(t,e){t===this.bmr.form.id&&(this.bmr.renderOutput(e.bmr),this.proteins.updateOptions(e.person.gender)),t===this.mods.form.id&&(this.mods.renderOutput(e.tdee),this.calorieGoal.renderOutput(e.calorieGoal)),t===this.proteins.form.id&&this.proteins.renderMacros(e.macros)}};var i=new class{constructor(t,e){this.model=t,this.view=e}onFormSubmit(t){t.preventDefault(),a.calculate(t.target,t.target.id),n.handleOutput(t.target.id,a.state)}}(a,n);n.addHandlerRender(i.onFormSubmit);
//# sourceMappingURL=index.ba74ff19.js.map

var t=new class{state={person:{gender:"",weight:0,heightFt:0,heightIn:0,age:0},bmr:0,calorieGoal:0,modifiers:{activity:0,deficit:0,protein:0},tdee:0,macros:{fats:{percentage:30,grams:0,calories:0},proteins:{percentage:30,grams:0,calories:0},carbs:{percentage:0,grams:0,calories:0}}};calculate(t,e){switch(e){case"bmr-calculator":this.#t(t);break;case"modifiers":try{this.#e(t)}catch(t){console.error(t)}break;case"protein-calculator":try{this.#o(t)}catch(t){console.error(t)}}}#r(t,e){return 12*Number(t.value)+Number(e.value)}#n(t){return+t.options[t.selectedIndex].value}#t(t){const e=t.querySelector("#weight"),o=t.querySelector("#height--ft"),r=t.querySelector("#height--in"),n=t.querySelector("#age"),s=t.querySelectorAll('#gender input[type="radio"]'),a=t.querySelectorAll('#health input[type="radio"]'),i=this.#r(o,r);this.state.person={weight:Number(e.value),age:Number(n.value),heightFt:Number(o.value),heightIn:Number(r.value)},s.forEach(((t,e)=>{t.checked&&(this.state.person.gender=s[e].value)}));const{person:{weight:c,age:l,gender:p}}=this.state;let u=0;u="Female"===p?655+4.35*c+4.7*i-4.7*l:66+6.23*c+12.7*i-6.8*l,this.state.bmr=Math.round(u),a&&console.log(a)}#e(t){const e=t.querySelector("#tdee"),o=t.querySelector("#deficit"),{bmr:r}=this.state;let{calorieGoal:n,tdee:s,modifiers:{activity:a,deficit:i}}=this.state;if(0===r)throw"Calculate BMR First!!";a=this.#n(e),i=this.#n(o),s=Math.round(r*a),i<1&&(n=Math.round(s-s*i)),1===i&&(n=s),i>1&&(n=Math.round(s*i)),this.state.modifiers={activity:a,deficit:i},this.state.tdee=s,this.state.calorieGoal=n}#o(t){if(0===this.state.tdee)throw"Do the rest of the form first!";const e=t.querySelector("#protein-modifier");let{macros:o,modifiers:r}=this.state;const{calorieGoal:n}=this.state;r.protein=this.#n(e),this.#s(o.proteins,r.protein),this.#a(o.fats),this.#i(o,n)}#s(t,e){let{grams:o,calories:r,percentage:n}=t;o=Math.round(this.state.person.weight*e),r=Math.round(4*o),n=Math.round(r/this.state.calorieGoal*100),this.state.macros.proteins={grams:o,calories:r,percentage:n}}#a(t){let{grams:e,calories:o,percentage:r}=t;o=Math.round(r/100*this.state.calorieGoal),e=Math.round(o/9),this.state.macros.fats={grams:e,calories:o,percentage:r}}#i(t,e){let{carbs:{grams:o,percentage:r,calories:n},fats:{calories:s},proteins:{calories:a}}=t;n=Math.round(e-s-a),o=Math.round(n/4),r=Math.round(n/e*100),this.state.macros.carbs={calories:n,grams:o,percentage:r}}};class e{#c=".totals__";constructor(t){this.form=document.getElementById(t),this.output=document.querySelector(this.#c.concat(t)),this.macros=document.querySelector(".percents")}renderOutput(t){this.output.insertAdjacentHTML("beforeend",`<span>${t} calories</span>`)}}const o=new e("bmr-calculator"),r=new e("modifiers"),n=new e("calorie-goal");const s=new class extends e{#l="";label=this.form.querySelector("#protein--gender");constructor(t){super(t)}updateOptions(t){"Female"===t&&(this.#l=`\n\t\t\t<label for="protein">\n\t\t\t\t<strong>${t}</strong> Protein Modifier (grams per lb.)</label>\n\t\t\t\t\t<select name="protein" id="protein-modifier">\n\t\t\t\t\t\t<option value="0.6">0.6</option>\n\t\t\t\t\t\t<option value="0.7">.07</option>\n\t\t\t\t\t\t<option value="0.8" selected>0.8</option>\n\t\t\t\t\t\t<option value="0.9">0.9</option>\n\t\t\t\t\t\t<option value="1.0">1.0</option>\n\t\t\t\t\t</select>`),"Male"===t&&(this.#l=`\n\t\t\t<label for="protein">\n\t\t\t\t<strong>${t}</strong> Protein Modifier (grams per lb.)</label>\n\t\t\t\t\t<select name="protein" id="protein-modifier">\n\t\t\t\t\t\t<option value="0.8">0.8</option>\n\t\t\t\t\t\t<option value="0.9">0.9</option>\n\t\t\t\t\t\t<option value="1.0" selected>1.0</option>\n\t\t\t\t\t\t<option value="1.1">1.1</option>\n\t\t\t\t\t\t<option value="1.2">1.2</option>\n\t\t\t\t\t</select>`),this.form.querySelector(".form__content").innerHTML=this.#l}renderMacros(t){this.macros.innerHTML=`\n\t\t<div class="percent__proteins">\n\t\t\t<h2>Protein:</h2>\n\t\t\t<span>${t.proteins.percentage}% | ${t.proteins.grams}g</span>\n\t\t</div>\n\t\t<div class="percent__fats">\n\t\t\t<h2>Fats:</h2>\n\t\t\t<span>${t.fats.percentage}% | ${t.fats.grams}g</span>\n\t\t</div>\n\t\t<div class="percent__carbs">\n\t\t\t<h2>Carbs:</h2>\n\t\t\t<span>${t.carbs.percentage}% | ${t.carbs.grams}g</span>\n\t\t</div>`}customMacros(){return'\n\t\t<label for="custom-macros">Custom Macro Selectors</label>\n\t\t\t<select name="custom-macros" id="custom-macos">\n\t\t\t\t<option value="0.6">0.6</option>\n\t\t\t\t<option value="0.7">.07</option>\n\t\t\t\t<option value="0.8" selected>0.8</option>\n\t\t\t\t<option value="0.9">0.9</option>\n\t\t\t\t<option value="1.0">1.0</option>\n\t\t\t</select>'}pregnancyMarkup(){return'<div class="radio__options">\n\t\t\t\t\t\t\t\t<h3>Pregnant?</h3>\n\t\t\t\t\t\t\t\t<div class="radio__options--option" id="pregnant-option-1">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="pregnant" value="true">\n\t\t\t\t\t\t\t\t\t<label for="pregnant">Yes</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="radio__options--option" id="pregnant-option-2">\n\t\t\t\t\t\t\t\t\t<input type="radio" name="pregnant" value="false">\n\t\t\t\t\t\t\t\t\t<label for="pregnant">No</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>'}}("protein-calculator");var a=new class{forms=document.querySelectorAll("form");reset=document.getElementById("reset");main=document.querySelector("main");coords=this.main.getBoundingClientRect();mods=r;calorieGoal=n;bmr=o;proteins=s;submissionMessage="<span>Thanks! On to the next step.</span>";finalMessage="<span>All done! Check the breakdown</span>";constructor(){!function(t,e,o){const r=document.getElementById("copyright"),n=(new Date).getFullYear(),s=`<a href="https://${o}?utm_source=${t.replace(/ /g,"")}&utm_medium=website_footer&utm_campaign=copyright" target ="_blank">${e}</a>`;r.innerHTML=`<p>&copy; ${n} ${t} All Rights Reserved.<br/>Site built by ${s}</p>`}("KJ Roelke","kjroelke.online"),this.forms.forEach(((t,e)=>{if(0!==e)for(e=0;e<t.length;e++)t[e].setAttribute("disabled","")})),this.renderConfirmation(),this.reset.addEventListener("click",this.resetForm.bind(this))}addHandlerRender(t){this.forms.forEach((e=>{e.addEventListener("submit",t)}))}renderConfirmation(){this.forms.forEach(((t,e)=>{t.addEventListener("submit",(t=>{const o=t.target,r=o.dataset.step;o.querySelector(".form__submission").insertAdjacentHTML("beforeend",2!=e?this.submissionMessage:this.finalMessage),3!=r&&(this.#p([o,this.forms[r]]),this.#u(this.forms[r]))}))}))}resetForm(){window.scrollTo(0,this.coords.y),location.reload()}#p(t){t.forEach((t=>t.classList.toggle("inactive")))}#u(t){for(let e=0;e<t.length;e++)t[e].disabled=!1}handleOutput(t,e){t===this.bmr.form.id&&(this.bmr.renderOutput(e.bmr),this.proteins.updateOptions(e.person.gender)),t===this.mods.form.id&&(this.mods.renderOutput(e.tdee),this.calorieGoal.renderOutput(e.calorieGoal)),t===this.proteins.form.id&&this.proteins.renderMacros(e.macros)}};var i=new class{constructor(t,e){this.model=t,this.view=e}onFormSubmit(e){e.preventDefault(),t.calculate(e.target,e.target.id),a.handleOutput(e.target.id,t.state)}}(t,a);a.addHandlerRender(i.onFormSubmit);
//# sourceMappingURL=index.1a813512.js.map

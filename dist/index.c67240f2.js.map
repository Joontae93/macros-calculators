{"mappings":"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","sources":["src/model.js","src/modules/Form.js","src/view.js","src/controller.js","src/modules/utilities.js","src/index.js"],"sourcesContent":["class Model {\n\tstate = {\n\t\tmacros: {\n\t\t\tfats: {\n\t\t\t\tpercentage: 30,\n\t\t\t\tgrams: 0,\n\t\t\t\tcalories: 0,\n\t\t\t},\n\t\t\tproteins: {\n\t\t\t\tpercentage: 30,\n\t\t\t\tgrams: 0,\n\t\t\t\tcalories: 0,\n\t\t\t},\n\t\t\tcarbs: {\n\t\t\t\tpercentage: 0,\n\t\t\t\tgrams: 0,\n\t\t\t\tcalories: 0,\n\t\t\t},\n\t\t},\n\t};\n\tcalcBMR() {\n\t\tlet bmr;\n\t\tconst height = this.state.person.heightFt * 12 + this.state.person.heightIn;\n\t\t// Calc BMR\n\t\tbmr =\n\t\t\tthis.state.person.gender === 'Female'\n\t\t\t\t? this.#calcFemaleBMR(height)\n\t\t\t\t: this.#calcMaleBMR(height);\n\t\tthis.state.bmr = Math.round(bmr);\n\t}\n\t#calcFemaleBMR(height) {\n\t\treturn (\n\t\t\t655 +\n\t\t\t4.35 * this.state.person.weight +\n\t\t\t4.7 * height -\n\t\t\t4.7 * this.state.person.age\n\t\t);\n\t}\n\t#calcMaleBMR() {\n\t\treturn (\n\t\t\t66 +\n\t\t\t6.23 * this.state.person.weight +\n\t\t\t12.7 * height -\n\t\t\t6.8 * this.state.person.age\n\t\t);\n\t}\n\tcalcTDEE() {\n\t\tif (this.state.bmr === 0) {\n\t\t\tthrow 'Calculate BMR First!!';\n\t\t}\n\t\t// calc TDEE\n\t\tthis.state.tdee = Math.round(\n\t\t\tthis.state.bmr * this.state.modifiers.activity,\n\t\t);\n\t\tthis.state.calorieGoal = this.#calcCalorieGoal(\n\t\t\tthis.state.tdee,\n\t\t\tthis.state.modifiers.deficit,\n\t\t);\n\t}\n\n\t#calcCalorieGoal(tdee, deficit) {\n\t\tlet calories;\n\t\tif (deficit < 1) {\n\t\t\tif (Math.round(tdee - tdee * deficit) < this.state.bmr) {\n\t\t\t\tcalories = 'Too low!';\n\t\t\t\treturn calories;\n\t\t\t}\n\t\t\tcalories = Math.round(tdee - tdee * deficit);\n\t\t} else if (deficit === 1) calories = tdee;\n\t\telse if (deficit > 1) calories = Math.round(tdee * deficit);\n\n\t\treturn calories;\n\t}\n\n\tcalcMacros() {\n\t\tif (this.state.tdee === 0) {\n\t\t\tthrow 'Do the rest of the form first!';\n\t\t}\n\n\t\t// Destructure State for easier typing\n\t\tconst { macros, modifiers, calorieGoal } = this.state;\n\n\t\t// Calc Proteins\n\t\tthis.#calcProteins(macros.proteins, modifiers.protein);\n\n\t\t// Calc Fats\n\t\tthis.#calcFats(macros.fats);\n\n\t\t// Calc Carbs\n\t\tthis.#calcCarbs(macros, calorieGoal);\n\t}\n\n\t#calcProteins(proteins, modifier) {\n\t\tlet { grams, calories, percentage } = proteins;\n\t\tgrams = Math.round(this.state.person.weight * modifier);\n\t\tcalories = Math.round(grams * 4);\n\t\tpercentage = Math.round((calories / this.state.calorieGoal) * 100);\n\t\tthis.state.macros.proteins = {\n\t\t\tgrams: grams,\n\t\t\tcalories: calories,\n\t\t\tpercentage: percentage,\n\t\t};\n\t}\n\n\t#calcFats(fats) {\n\t\tlet { grams, calories, percentage } = fats;\n\t\tcalories = Math.round((percentage / 100) * this.state.calorieGoal);\n\t\tgrams = Math.round(calories / 9);\n\t\tthis.state.macros.fats = {\n\t\t\tgrams: grams,\n\t\t\tcalories: calories,\n\t\t\tpercentage: percentage,\n\t\t};\n\t}\n\n\t#calcCarbs(macros, goal) {\n\t\tlet {\n\t\t\tcarbs: { grams: cGrams, percentage: cPercent, calories: cCals },\n\t\t\tfats: { calories: fCals },\n\t\t\tproteins: { calories: pCals },\n\t\t} = macros;\n\t\tcCals = Math.round(goal - fCals - pCals);\n\t\tcGrams = Math.round(cCals / 4);\n\t\tcPercent = Math.round((cCals / goal) * 100);\n\t\tthis.state.macros.carbs = {\n\t\t\tcalories: cCals,\n\t\t\tgrams: cGrams,\n\t\t\tpercentage: cPercent,\n\t\t};\n\t}\n}\n\nexport default new Model();\n","class Form {\n\t#query = '.totals__';\n\tconstructor(id) {\n\t\tthis.form = document.getElementById(id);\n\t\tthis.output = document.querySelector(this.#query.concat(id));\n\t\tthis.macros = document.querySelector('.percents');\n\t}\n\t/** Takes an HTML string to render to the form's output.\n\t * @param markup {string} - the HTML to markup.\n\t */\n\trenderOutput(markup) {\n\t\tthis.output.insertAdjacentHTML(\n\t\t\t'beforeend',\n\t\t\t`<span>${markup} calories</span>`,\n\t\t);\n\t}\n}\nexport const bmr = new Form('bmr-calculator');\nexport const mods = new Form('modifiers');\nexport const calories = new Form('calorie-goal');\n\nclass ProteinForm extends Form {\n\t#formContent = '';\n\tlabel = this.form.querySelector('#protein--gender');\n\tconstructor(id) {\n\t\tsuper(id);\n\t}\n\tupdateOptions(gender) {\n\t\tif (gender === 'Female') {\n\t\t\tthis.#formContent = `\n\t\t\t<label for=\"protein\">\n\t\t\t\t<strong>${gender}</strong> Protein Modifier (grams per lb.)<br/>Recommended range is 0.6 &ndash; 1.0</label>\n\t\t\t\t\t<input type='number' inputmode=\"decimal\" step=\"0.1\" name=\"protein\" id=\"protein-modifier\">`;\n\t\t}\n\t\tif (gender === 'Male') {\n\t\t\tthis.#formContent = `\n\t\t\t<label for=\"protein\">\n\t\t\t\t<strong>${gender}</strong> Protein Modifier (grams per lb.)<br/>Recommended range is 0.8 &ndash; 1.2</label>\n\t\t\t\t\t<input type='number' step=\"0.1\" inputmode=\"decimal\" name=\"protein\" id=\"protein-modifier\">`;\n\t\t}\n\t\tthis.form.querySelector('.form__content').innerHTML = this.#formContent;\n\t}\n\trenderMacros(markup) {\n\t\tthis.macros.innerHTML = `\n\t\t<div class=\"percent__proteins\">\n\t\t\t<h2>Protein:</h2>\n\t\t\t<span>${markup.proteins.percentage}% | ${markup.proteins.grams}g</span>\n\t\t</div>\n\t\t<div class=\"percent__fats\">\n\t\t\t<h2>Fats:</h2>\n\t\t\t<span>${markup.fats.percentage}% | ${markup.fats.grams}g</span>\n\t\t</div>\n\t\t<div class=\"percent__carbs\">\n\t\t\t<h2>Carbs:</h2>\n\t\t\t<span>${markup.carbs.percentage}% | ${markup.carbs.grams}g</span>\n\t\t</div>`;\n\t}\n\tcustomMacros() {\n\t\tconst markup = `\n\t\t<label for=\"custom-macros\">Custom Macro Selectors</label>\n\t\t\t<select name=\"custom-macros\" id=\"custom-macros\">\n\t\t\t\t<option value=\"0.6\">0.6</option>\n\t\t\t\t<option value=\"0.7\">.07</option>\n\t\t\t\t<option value=\"0.8\" selected>0.8</option>\n\t\t\t\t<option value=\"0.9\">0.9</option>\n\t\t\t\t<option value=\"1.0\">1.0</option>\n\t\t\t</select>`;\n\t\treturn markup;\n\t}\n\tpregnancyMarkup() {\n\t\tconst markup = `<div class=\"radio__options\">\n\t\t\t\t\t\t\t\t<h3>Pregnant?</h3>\n\t\t\t\t\t\t\t\t<div class=\"radio__options--option\" id=\"pregnant-option-1\">\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"pregnant\" value=\"true\">\n\t\t\t\t\t\t\t\t\t<label for=\"pregnant\">Yes</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"radio__options--option\" id=\"pregnant-option-2\">\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"pregnant\" value=\"false\">\n\t\t\t\t\t\t\t\t\t<label for=\"pregnant\">No</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`;\n\t\treturn markup;\n\t}\n}\n\nexport const protein = new ProteinForm('protein-calculator');\n","import * as form from './modules/Form';\n\nclass View {\n\tforms = document.querySelectorAll('form');\n\treset = document.getElementById('reset');\n\tmods = form.mods;\n\tcalorieGoal = form.calories;\n\tbmr = form.bmr;\n\tproteins = form.protein;\n\tsubmissionMessage = `<span>Thanks! On to the next step.</span>`;\n\tfinalMessage = `<span>All done! Check the breakdown</span>`;\n\tconstructor() {\n\t\tthis.simpleProtection();\n\t\tthis.reset.addEventListener('click', this.resetForm);\n\t}\n\t/** Adds simple password protection that gets bypassed if IP Address = Roelke Residence. */\n\tsimpleProtection = async function () {\n\t\ttry {\n\t\t\tconst res = await fetch('https://api.ipify.org/?format=json');\n\t\t\tif (!res.ok) throw new Error();\n\t\t\tconst { ip } = await res.json();\n\t\t\tconst home = ip === process.env.myIP ? true : false;\n\t\t\tif (home) return;\n\t\t\tconst allowed = prompt('Password');\n\t\t\tconst denial = `\n\t\t\t<main>\n\t\t\t\t<h1>You are not allowed to use this calculator.</h1>\n\t\t\t\t<span>If you have forgotten your password or feel you are being shown this message in error, please contact <a href=\"mailto:kj.roelke@gmail.com\">KJ Roelke</a> and ask for help.</span>\n\t\t\t</main>`;\n\t\t\tif (allowed != process.env.password) {\n\t\t\t\tdocument.querySelector('main').innerHTML = denial;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t\tthis.#disabledForms();\n\t\tthis.renderConfirmation();\n\t\tthis.reset.addEventListener('click', () => this.resetForm());\n\t};\n\n\t/** Resets the app's state to init */\n\tresetForm() {\n\t\tlocation.reload();\n\t}\n\t/** Gets form values\n\t * @return object\n\t */\n\tgetBMRValues(form) {\n\t\tconst weightVal = form.querySelector('#weight'),\n\t\t\theightFtVal = form.querySelector('#height--ft'),\n\t\t\theightInVal = form.querySelector('#height--in'),\n\t\t\tageVal = form.querySelector('#age'),\n\t\t\tgenderOptions = form.querySelectorAll('#gender input[type=\"radio\"]');\n\t\t// healthOptions = form.querySelectorAll('#health input[type=\"radio\"]'),\n\t\tconst person = {\n\t\t\tweight: Number(weightVal.value),\n\t\t\tage: Number(ageVal.value),\n\t\t\theightFt: Number(heightFtVal.value),\n\t\t\theightIn: Number(heightInVal.value),\n\t\t};\n\t\tgenderOptions.forEach((el, i) => {\n\t\t\tif (el.checked) {\n\t\t\t\tperson.gender = genderOptions[i].value;\n\t\t\t}\n\t\t});\n\t\treturn person;\n\t}\n\t#getOptionsValue(el) {\n\t\tconst value = +el.options[el.selectedIndex].value;\n\t\treturn value;\n\t}\n\t/** Gets form values\n\t * @return object\n\t */\n\tgetModsValues(form) {\n\t\tconst activityVal = form.querySelector('#tdee'),\n\t\t\tdeficitVal = form.querySelector('#deficit');\n\t\tconst modifiers = {\n\t\t\tactivity: this.#getOptionsValue(activityVal),\n\t\t\tdeficit: this.#getOptionsValue(deficitVal),\n\t\t};\n\t\treturn modifiers;\n\t}\n\n\tgetProteinValues(form) {\n\t\tconst protein = Number(form.querySelector('#protein-modifier').value);\n\t\treturn protein;\n\t}\n\t/** Attaches a callback function to each form's 'submit' and passes along the event. Calls `#renderConfirmation()`\n\t * @param handler {function} - the callback function\n\t */\n\taddHandlerRender(handler) {\n\t\tthis.forms.forEach((form, i) => {\n\t\t\tform.addEventListener('submit', (ev) => {\n\t\t\t\tev.preventDefault();\n\t\t\t\thandler(ev);\n\t\t\t\tthis.#renderConfirmation(ev.target, i);\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Adds a message on submit and toggles active/inactive state of each form.\n\t */\n\t#renderConfirmation(form, i) {\n\t\tconst id = +form.dataset.step;\n\t\tconst nextForm = i + 1;\n\t\tconst submission = form.querySelector('.form__submission');\n\t\tsubmission.insertAdjacentHTML(\n\t\t\t'beforeend',\n\t\t\ti != 2 ? this.submissionMessage : this.finalMessage,\n\t\t);\n\t\tif (id != 2) {\n\t\t\tthis.#toggleStyle([form, this.forms[nextForm]]);\n\t\t\tthis.#enableForm(this.forms[i]);\n\t\t}\n\t}\n\n\t/** Toggles '.inactive' class for each form to clarify UI. */\n\t#toggleStyle(forms) {\n\t\tforms.forEach((form) => form.classList.toggle('inactive'));\n\t}\n\n\t/** Enables form field inputs */\n\t#enableForm(form) {\n\t\tfor (let i = 0; i < form.length; i++) {\n\t\t\tform[i].disabled = false;\n\t\t}\n\t}\n\t/** disables input inside of forms */\n\t#disabledForms() {\n\t\tthis.forms.forEach((form, i) => {\n\t\t\tif (i === 0) return;\n\t\t\tfor (i = 0; i < form.length; i++) {\n\t\t\t\tform[i].setAttribute('disabled', '');\n\t\t\t}\n\t\t});\n\t}\n\n\thandleOutput(form, data) {\n\t\tif (form === 0) {\n\t\t\tthis.bmr.renderOutput(data.bmr);\n\t\t\tthis.proteins.updateOptions(data.person.gender);\n\t\t}\n\t\tif (form === 1) {\n\t\t\tthis.mods.renderOutput(data.tdee);\n\t\t\tthis.calorieGoal.renderOutput(data.calorieGoal);\n\t\t}\n\t\tif (form === 2) {\n\t\t\tthis.proteins.renderMacros(data.macros);\n\t\t}\n\t}\n}\n\nexport default new View();\n","import model from './model';\nimport View from './view';\n\nclass Controller {\n\tconstructor(Model, View) {\n\t\tthis.model = Model;\n\t\tthis.view = View;\n\t\tthis.view.addHandlerRender(this.onFormSubmit);\n\t}\n\t/** Subscribed to the AddHandlerRender(), this is the app.\n\t * @param ev {object} - the Event\n\t */\n\tonFormSubmit(ev) {\n\t\tswitch (ev.target.id) {\n\t\t\tcase 'bmr-calculator':\n\t\t\t\tmodel.state.person = View.getBMRValues(ev.target);\n\t\t\t\tmodel.calcBMR();\n\t\t\t\tbreak;\n\t\t\tcase 'modifiers':\n\t\t\t\tmodel.state.modifiers = View.getModsValues(ev.target);\n\t\t\t\tmodel.calcTDEE();\n\t\t\t\tbreak;\n\t\t\tcase 'protein-calculator':\n\t\t\t\tmodel.state.modifiers.protein = View.getProteinValues(ev.target);\n\t\t\t\tmodel.calcMacros();\n\t\t\t\tbreak;\n\t\t}\n\t\tView.handleOutput(+ev.target.dataset.step, model.state);\n\t}\n}\n\nexport default new Controller(model, View);\n","/**\n * Create copyright text with a dynamic date and URL campaign builder for GA inside a div with the ID of 'copyright.'\n * @param {string} brandName Name of the brand\n * @param {string} builder Name of the person/org building the site\n * @param {string} site Home URL of the builder. HTTP is added automatically.\n */\nexport function myCopyright(brandName, builder, site) {\n\tconst copyright = document.getElementById('copyright');\n\tconst thisYear = new Date().getFullYear();\n\tconst brand = brandName.replace(/ /g, '');\n\tconst builderLink = `<a href=\"https://${site}?utm_source=${brand}&utm_medium=website_footer&utm_campaign=copyright\" target =\"_blank\">${builder}</a>`;\n\tcopyright.insertAdjacentHTML(\n\t\t'afterbegin',\n\t\t`<p>&copy; ${thisYear} ${brandName} All Rights Reserved.<br/>Site built by ${builderLink}</p>`,\n\t);\n}\n\n/** Shorthand for Query Selector Function.\n * @param selector {string} CSS Selector. Must include class ('.') marker if needed\n * @param  [all] {boolean} optional to call querySelectorAll.\n * @return {Element} HTML Element\n * */\nexport function querySelector(selector, all = false) {\n\treturn all === false\n\t\t? document.querySelector(selector)\n\t\t: document.querySelectorAll(selector);\n}\n","import { myCopyright } from './modules/utilities';\nimport '../sass/main.scss';\nimport controller from './controller';\n\nfunction init() {\n\tmyCopyright('Macros by Sara', 'K.J. Roelke', 'kjroelke.online');\n}\ninit();\n"],"names":["$d7fcaaa29d0ffaa7$export$2e2bcd8739ae039","state","macros","fats","percentage","grams","calories","proteins","carbs","calcBMR","bmr","height1","this","person","heightFt","heightIn","gender","calcFemaleBMR","calcMaleBMR","Math","round","weight","age","height","calcTDEE","tdee","modifiers","activity","calorieGoal","calcCalorieGoal","deficit","calcMacros","calcProteins","protein","calcFats","calcCarbs","modifier","calories1","grams1","calories2","percentage1","goal","cGrams","cPercent","cCals","fCals","pCals","$a551cdb0e93998ef$var$Form","query","constructor","id","form","document","getElementById","output","querySelector","concat","renderOutput","markup","insertAdjacentHTML","$a551cdb0e93998ef$export$eebca4b82a60c619","$a551cdb0e93998ef$export$8999671f510b7122","$a551cdb0e93998ef$export$788b37ed00f86289","$a551cdb0e93998ef$export$a174f507dd3121ea","formContent","label","super","updateOptions","innerHTML","renderMacros","customMacros","pregnancyMarkup","$467972dd7b1d4dab$export$2e2bcd8739ae039","forms","querySelectorAll","reset","mods","submissionMessage","finalMessage","simpleProtection","addEventListener","resetForm","async","res","fetch","ok","Error","ip","json","allowed","prompt","denial","err","console","error","disabledForms","renderConfirmation","location","reload","getBMRValues","weightVal","heightFtVal","heightInVal","ageVal","genderOptions","Number","value","forEach","el","i","checked","getOptionsValue","options","selectedIndex","getModsValues","activityVal","deficitVal","getProteinValues","addHandlerRender","handler","ev","preventDefault","target","form1","dataset","step","nextForm","toggleStyle","enableForm","classList","toggle","form2","i1","length","disabled","setAttribute","handleOutput","data","Model","View","model","view","onFormSubmit","brandName","builder","site","copyright","thisYear","Date","getFullYear","builderLink","replace"],"version":3,"file":"index.c67240f2.js.map"}